name: Generar clave diaria

on:
  schedule:
    - cron: '0 0 * * *' # Se ejecuta todos los dÃ­as a medianoche UTC
  workflow_dispatch: # Permite ejecutarlo manualmente desde GitHub

jobs:
  update-key:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        persist-credentials: true

    - name: Generar nueva clave diaria
      run: |
        # Genera clave aleatoria
        NEW_KEY="KEY-$(date +%s)"
        echo $NEW_KEY > key.txt
        git config user.name "GitHub Actions"
        git config user.email "actions@github.com"
        git add key.txt
        git commit -m "Actualizar clave diaria"
        git push



